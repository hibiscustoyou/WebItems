<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>弹出式分享 Modal 对话框</title>
        <link rel="stylesheet" href="style.css">
        <!-- https://unicons.iconscout.com/release/v3.0.6/css/line.css -->
        <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.6/css/line.css">
        <!-- https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    </head>
    <body>
        <button class="view-modal">View Modal</button>
        <div class="popup">
            <header>
                <span>Share Modal</span>
                <div class="close">
                    <i class="uil uil-times"></i>
                </div>
            </header>
            
            <div class="content">
                <p>Share this link via</p>
                <ul class="icons">
                    <a href=""><i class="fab fa-weixin"></i></a>
                    <a href=""><i class="fab fa-qq"></i></a>
                    <a href=""><i class="fab fa-weibo"></i></a>
                    <a href=""><i class="fab fa-twitter"></i></a>
                    <a href=""><i class="fab fa-instagram"></i></a>
                </ul>
                
                <p>Or Copy link</p>
                <div class="field">
                    <i class="uil uil-link"></i>
                    <label>
                        <input type="text" value="Copy content">
                    </label>
                    <button>Copy</button>
                </div>
            </div>
        </div>
    
        <script>
            const viewBtn = document.querySelector(".view-modal");
            const popup = document.querySelector(".popup");
            const close = popup.querySelector(".close");
            const field = popup.querySelector(".field");
            const ipt = popup.querySelector("input");
            const copy = popup.querySelector("button");
            
            viewBtn.onclick = () => {
                popup.classList.toggle("show");
            }
            close.onclick = () => {
                viewBtn.click();
            }
            
            copy.onclick =() => {
                ipt.select();
                if (document.execCommand("copy")) {
                    field.classList.add("active");
                    copy.innerText = "Copied";
                    setTimeout(() => {
                        field.classList.remove("active");
                        copy.innerText = "Copy";
                        window.getSelection().removeAllRanges();
                    }, 3000)
                }
            }
        </script>
    </body>
</html>